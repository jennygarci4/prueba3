<DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8">
            <style>
            body{
                background-color: rgb(161, 165, 240);
                font-size: 17px;
                font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            }
            form{
                color: rgb(255, 255, 255);
            background-color: rgb(63, 61, 96);
            padding: 30px;
            margin: 0 auto;
            width: 300px;
            border-radius: 20px;
            font-family: Arial;
            }
            #enviar{
                color: rgb(0, 0, 0);
            border:0px;
            background-color: rgb(173, 184, 222);
            width:100px;
            height:25px;
            border-radius: 6px;
            font-weight:bold;
            }
            </style>
        </head>
        <body>
        <form name="act15" onsubmit="return verificar()">
            <h1>Compra</h1>
            <br>
            <p>Elija un departamento</p>
            <select id="departamento">
                <option value="0" id="defecto">--</option>
                <option value="Electrónica" id="electronica">Electrónica</option>
                <option value="Juguetería" id="juguetes">Juguetería</option>
            </select>
            <br>
            <br>
            <label for="cantidad">Ingrese la cantidad de artículos a comprar:</label>
            <input type="number" name="cantidad" id="cant">
            <br>
            <br>
            <p>¿Cuenta con tarjeta de puntos?</p>
            <input type="checkbox" name="targ_puntos" id="si">Si
            <br>
            <input type="checkbox" name="targ_puntos" id="no">No
            <br>
            <br>
            <input type="submit" id="enviar" value="Calcular">
        </form>
        
        <script>  
        function verificar(){
    var departamento = document.getElementById('departamento').value;
    var cant = document.getElementById('cant').value;
    var iva = 0.16;
    var total = '';
    var total_iva = '';
    var prom = '';
    var desc_tarjeta = '';
    var tarjeta = '';
    var desc_aplicados = '';
    var total_final = '';

    if (document.getElementById('si').checked){
        tarjeta = 'Si'
    }else{
        tarjeta = 'No'
    }

    if(departamento=='Electrónica'){
        if(cant==3){
            if(document.getElementById('si').checked){
                
                total = 2200
                total_iva = total+(iva*total)
                prom = (3*850-(2200))
                desc_tarjeta = (0.05*total_iva)
                desc_aplicados = (desc_tarjeta+prom)
                total_final = (total_iva-desc_aplicados)
            }else{
                total = 2200
                total_iva = total+(iva*total)
                prom = (3*850-(2200))
                desc_tarjeta = (0)
                desc_aplicados = (desc_tarjeta+prom)
                total_final = (total_iva-desc_aplicados)
            }
        }else{
            if(cant>3){
                if(document.getElementById('si').checked){
                    cant1 = Math.floor(cant/3)
                    cantN = cant-(cant1*3)

                    total = (cant1*2200)+(cantN*850)
                    total_iva = (total+(iva*total))
                    prom = (350*cant1)
                    desc_tarjeta = (0.05*total_iva)
                    desc_aplicados = (desc_tarjeta+prom)
                    total_final = (total_iva-desc_aplicados)
                }else{
                    cant1 = Math.floor(cant/3)
                    cantN = cant-(cant1*3)

                    total = (cant1*2200)+(cantN*850)
                    total_iva = (total+(iva*total))
                    prom = (350*cant1)
                    desc_tarjeta = 0
                    desc_aplicados = (desc_tarjeta+prom)
                    total_final = (total_iva-desc_aplicados)
                }
            }else{
                if (cant<3){
                    if (document.getElementById('si').checked){
                        total = (cant*850)
                        total_iva = (total+(iva*total))
                        prom = 0
                        desc_tarjeta = (0.05*total_iva)
                        desc_aplicados = (desc_tarjeta+prom)
                        total_final = (total_iva-desc_aplicados)
                    }else{
                        total = (cant*850)
                        total_iva = (total+(iva*total))
                        prom = 0
                        desc_tarjeta = (0)
                        desc_aplicados = (desc_tarjeta+prom)
                        total_final = (total_iva-desc_aplicados)
                    }
                }else{}
            }
        }
    }else{
    if(departamento=='Juguetería'){
        if(cant>4){
            if(document.getElementById('si').checked){
                total = (650*cant)-((0.10)*650*cant)
                total_iva = total+(iva*total)
                prom = (650*cant-(total))
                desc_tarjeta = (0.05*total_iva)
                desc_aplicados = (desc_tarjeta+prom)
                total_final = (total_iva-desc_aplicados)

            }else{
                total = (650*cant)-((0.10)*650*cant)
                total_iva = total+(iva*total)
                prom = (650*cant-(total))
                desc_tarjeta = (0)
                desc_aplicados = (desc_tarjeta+prom)
                total_final = (total_iva-desc_aplicados)
            }
        }else{
            if(cant<=4){
                if(document.getElementById('si').checked){
                total = (cant*650)
                total_iva = total+(iva*total)
                prom = 0
                desc_tarjeta = (0.05*total_iva)
                desc_aplicados = (desc_tarjeta+prom)
                total_final = (total_iva-desc_aplicados)

                }else{
                total = (cant*650)
                total_iva = total+(iva*total)
                prom = 0
                desc_tarjeta = (0)
                desc_aplicados = (desc_tarjeta+prom)
                total_final = (total_iva-desc_aplicados)
                }
            }else{}
        }
    }else{}
    }
    
    alert (
        'TICKET DE COMPRA '+'\n'+
        'Departamento seleccionado: '+departamento+'\n'+
        'Artículos comprados: '+cant+'\n'+
        'Total sin IVA: $'+total+'\n'+
        'Total con IVA: $'+total_iva+'\n'+
        'Descuento por compra de artículos: $'+prom+'\n'+
        'Tarjeta de puntos: '+tarjeta+' -  Descuento de: $'+desc_tarjeta+'\n'+
        'Descuentos aplicados: $'+desc_aplicados+'\n'+
        'Total con descuentos aplicados: $'+total_final+'\n'
    );
}   
        </script>
        </body>
    </html>
    
